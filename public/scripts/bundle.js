(()=>{const t=document.getElementById("canvas"),i=t.getContext("2d");let e,h,s,l,o,r;t.width=300,t.height=400;let d=document.querySelector("#start");d.disabled=!1;class a{constructor(){this.x=t.width,this.y=Math.floor(250*Math.random()),this.height=50,this.width=50,this.speed=1,this.bulletX=this.x,this.bulletY=this.y,this.bulletRadius=5,this.bulletSpeed=1}draw(){let t=new Image(this.width,this.height);t.src="images/alien.png",i.shadowColor="none",i.shadowBlur=0,i.drawImage(t,this.x,this.y,this.width,this.height),this.x-=this.speed}}class n{constructor(){this.bulletX=o.x+25,this.bulletY=o.y+o.height,this.bulletRadius=5,this.bulletSpeed=1}drop(){i.shadowColor="lime",i.shadowBlur=20,i.beginPath(),i.arc(this.bulletX,this.bulletY,this.bulletRadius,0,2*Math.PI),i.fillStyle="lime",i.fill(),i.closePath(),this.bulletY+=this.bulletSpeed,this.bulletX+this.bulletRadius>e.x&&this.bulletX<e.x+e.width&&this.bulletY+this.bulletRadius>e.y+10&&this.bulletY+this.bulletRadius<e.y+20&&(this.bulletX=t.width/2,this.bulletY=t.height+50,e.gameActive=!1,setTimeout((()=>{location.reload()}),3e3))}}class c{constructor(){this.x=t.width/2-50,this.y=5,this.height=75,this.width=100,this.speed=1,this.zoneOne=this.y,this.zoneTwo=this.y+25,this.hits=100}draw(){let e=new Image(this.width,this.height);e.src="images/monster.png",i.shadowColor="none",i.shadowBlur=0,i.font="12.5px Arial",i.strokeStyle="lime",i.strokeText(`${this.hits}`,this.x+43,this.y+5),i.drawImage(e,this.x,this.y,this.width,this.height),this.x+=this.speed,(this.x+this.width===t.width||0===this.x)&&(this.speed=-this.speed)}}class w{constructor(){this.x=e.x+e.width/2-2.5,this.y=e.y,this.speed=4,this.width=5,this.height=15,this.color="red"}draw(){i.shadowColor="orange",i.shadowBlur=30,i.fillStyle=this.color,i.fillRect(this.x,this.y,this.width,this.height),this.y-=this.speed}collideWithEnemy(){this.x<s.x+s.width&&this.x+this.width>s.x&&this.y<s.y+s.height+s.direction&&this.y>s.shield&&(e.score+=5,this.y=-50,this.speed=0,s=new m,s.draw())}collideWithMonster(){this.x<l.x+l.width&&this.x+this.width>l.x&&this.y<l.zoneTwo&&this.y>l.zoneOne&&(e.score++,l.hits--,this.y=-50,this.speed=0,0===l.hits&&(e.gameActive=!1,setTimeout((()=>{location.reload()}),4e3)))}collideWithAliens(){this.x<o.x+o.width&&this.x+this.width>o.x&&this.y<o.y+o.height/2&&this.y>o.y&&(e.score+=5,this.y=-50,this.speed=0,o=new a,o.draw())}collideWithAlienBullet(){this.x<r.bulletX+r.bulletRadius&&this.x+this.width>r.bulletX&&this.y<r.bulletY+r.bulletRadius&&this.y>r.bulletY&&(e.score+=1,this.y=-50,this.speed=0,r.bulletY=t.height+50)}}class u{bullets=[];constructor(){}shoot(){this.bullets.push(new w)}draw(){this.bullets.forEach((function(t){t.draw(),t.collideWithEnemy(),t.collideWithMonster(),t.collideWithAliens(),t.collideWithAlienBullet()}))}}class y{constructor(t,i,e){this.x=t,this.y=i,this.bulletController=e,this.width=75,this.height=50,this.speed=15,this.score=0,this.ammo=50,this.refillX=Math.floor(285*Math.random()),this.refillY=-15,this.refillRadius=15,this.refillDirection=1,this.gameActive=!0}draw(){i.shadowColor="none",i.shadowBlur=0;let t=new Image(this.width,this.height);t.src="images/jet.png",i.drawImage(t,this.x,this.y,this.width,this.height)}shoot(){h.shoot()}drawScore(){i.font="18px Arial",i.fillStyle="white",i.fillText(`Score: ${this.score}`,8,20)}drawAmmo(){i.font="18px Arial",i.fillStyle="white",i.fillText(`Ammo: ${this.ammo}`,t.width-100,20)}drawResupply(){i.shadowColor="lime",i.shadowBlur=20,i.beginPath(),i.arc(this.refillX,this.refillY,this.refillRadius,0,2*Math.PI),i.lineWidth=1,i.strokeStyle="lime",i.stroke(),i.fillStyle="black",i.fill(),i.font="15px Arial",i.strokeText("50",this.refillX-8,this.refillY+5),i.closePath(),this.refillY+=this.refillDirection}gameOver(){i.clearRect(0,0,t.width,t.height),i.shadowColor="lime",i.shadowBlur=20,i.font="18px Arial",i.fillStyle="lime",i.fillText("Game over!",100,110),i.fillText("You were hit",95,180),i.fillText(`Your score is ${e.score}`,85,250)}wins(){i.clearRect(0,0,t.width,t.height),i.shadowColor="lime",i.shadowBlur=20,i.font="18px Arial",i.fillStyle="lime",i.fillText("Game over!",100,110),i.fillText("You won",110,180),i.fillText(`Your score is ${e.score}`,85,250)}}class m{constructor(){this.x=l.x+50,this.y=l.y+35,this.width=15,this.height=45,this.shield=this.y+this.height-5,this.direction=1}draw(){i.shadowColor="lime",i.shadowBlur=30;let t=new Image(this.width,this.height);t.src="images/enemy.png",i.drawImage(t,this.x,this.y,this.width,this.height),this.y+=this.direction,this.x+this.width>e.x&&this.x<e.x+e.width&&this.y+this.height>e.y+20&&this.y+this.height<e.y+21&&(e.gameActive=!1,setTimeout((()=>{location.reload()}),4e3))}}function f(){!1===e.gameActive?0===l.hits?e.wins():e.gameOver():(i.clearRect(0,0,t.width,t.height),h.draw(),s.draw(),o.draw(),r.drop(),l.draw(),e.draw(),e.drawScore(),e.drawAmmo()),s.y-s.height>t.height&&(s=new m,s.draw()),o.x<e.x+15&&o.x>e.x+10&&r.bulletY>t.height&&(r.bulletX=o.x+25,r.bulletY=o.y+o.height,r.drop()),o.x+o.width<=0&&(o=new a,o.draw()),0===e.ammo&&e.drawResupply(),e.refillY+e.refillRadius>e.y&&e.refillY+e.refillRadius<e.y+2&&e.refillX-e.refillRadius<e.x+e.width&&e.refillX+e.refillRadius>e.x&&(e.ammo=50,e.refillY=t.height+50),e.refillY>t.height&&(e.refillX=Math.floor(285*Math.random()),e.refillY=-15,e.drawResupply()),requestAnimationFrame((()=>f()))}d.addEventListener("click",(function(i){i.preventDefault(),l=new c,o=new a,r=new n,s=new m,e=new y(t.width/2-37.5,t.height/1.2),h=new u,document.querySelector("#left").addEventListener("click",(function(t){t.preventDefault(),e.x<=0||(e.x-=e.speed)})),document.querySelector("#right").addEventListener("click",(function(i){i.preventDefault(),e.x+e.width>=t.width||(e.x+=e.speed)})),document.querySelector("#forward").addEventListener("click",(function(t){t.preventDefault(),e.y<=l.y+l.height||(e.y-=e.speed)})),document.querySelector("#backward").addEventListener("click",(function(i){i.preventDefault(),e.y+e.height>=t.height||(e.y+=e.speed)})),document.querySelector("#fire").addEventListener("click",(function(t){t.preventDefault(),e.ammo>0&&(e.shoot(),e.ammo--)})),f(),d.disabled=!0}))})();
//# sourceMappingURL=bundle.js.map